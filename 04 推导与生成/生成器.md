## 生成器

* 在Python中，一边循环一边计算的机制，称为生成器：generator。
* **我又想要得到庞大的数据，又想让它占用空间少，那就用生成器！**
* 方法一，只要把一个列表生成式的[]改成()，就创建了一个generator。
* 方法二， 如果一个函数中包含yield关键字，那么这个函数就不再是一个普通函数，而是一个generator。调用函数就是创建了一个生成器（generator）对象。

## 可迭代类型与迭代器

* 凡是可作用于for循环的对象都是Iterable类型；
* 凡是可作用于next()函数的对象都是Iterator类型，它们表示一个惰性计算的序列；
* 集合数据类型如list、dict、str等是Iterable但不是Iterator，不过可以通过iter()函数获得一个Iterator对象。

![](https://chushi123.oss-cn-beijing.aliyuncs.com/img/202205171942740.png)
* 迭代器实现了两个方法，一个是__next__，一个是__iter__，__iter__用来返回迭代器本身，__next__用来取出下一个元素。
* 生成器也是迭代器的一种，迭代器只能记住自身的执行状态并等待下一次迭代，而生成器除了也会记住执行状态，还可以通过yield语句控制使多个生成器切换执行，例如手枪只能由一个枪口打出子弹，而加特林机枪可以通过旋转控制（yield切换）用多个枪口依次出子弹，威力也会更强，生成器是实现异步协程的重要基础。