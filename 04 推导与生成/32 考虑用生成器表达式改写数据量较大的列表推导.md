生成器表达式的写法，与列表推导式语法类似，但它是写在一对圆括号内，而不是方括号里面。

```python
it = (len(x) for x in open('my_file.txt'))
print(it)


print(next(it))
print(next(it))


roots = ((x, x**0.5) for x in it)
```

多个生成器嵌套而成的代码，执行起来还是相当快的。所以，如果要对数据量很大的输入流做一系列处理，那么生成器表达式应该是个很好的选择。唯一需要注意的是，**生成器表达式返回的迭代器是有状态的，跑完一整轮之后，就不能继续使用了**（参见第31条）。

## 要点

1. 通过列表推导来处理大量的输入数据，可能会占用许多内存。
2. 改用生成器表达式来做，可以避免内存使用量过大的问题，因为这种表达式所形成的迭代器每次只会计算一项结果。
3. 生成器表达式所形成的迭代器可以当成for语句的子表达式出现在另一个生成器表达式里。
4. 把生成器表达式组合起来使用，能够写出执行速度快且占用内存少的代码。